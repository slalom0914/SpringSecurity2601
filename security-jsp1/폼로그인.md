## 폼로그인
```text
- 로그인 화면을 스프링 시큐리티의 필터가 제공함.
  DefaultLoginPageGeneratingFilter
- GET /login 을 처리
- 별도의 로그인 페이지 설정을 하지 않으면 제공되는 필터
- 기본 로그인 폼을 제공함
- OAuth2/OpenID/Saml2 로그인과도 같이 사용할 수 있음
```

### UsernamePasswordAuthenticationFilter
- POST /login 을 처리. 
- 만일 변경을 원하면 processingUrl을 변경하면 주소를 바꿀 수 있다.
- form인증을 처리해주는 필터로 스프링 시큐리티에서 가장 일반적임
- 주요 설정 정보
  - username parameter : POST에 username 에 대한 값을 넘겨줄 인자 이름
  - password parameter : POST에 password 에 대한 값을 넘겨줄 인자 이름
  
```java
	@Override
	public Authentication attemptAuthentication(HttpServletRequest request, HttpServletResponse response)
			throws AuthenticationException {
		if (this.postOnly && !request.getMethod().equals("POST")) {
			throw new AuthenticationServiceException("Authentication method not supported: " + request.getMethod());
		}
		String username = obtainUsername(request);
		username = (username != null) ? username.trim() : "";
		String password = obtainPassword(request);
		password = (password != null) ? password : "";
		UsernamePasswordAuthenticationToken authRequest = UsernamePasswordAuthenticationToken.unauthenticated(username,
				password);
		// Allow subclasses to set the "details" property
		setDetails(request, authRequest);
		return this.getAuthenticationManager().authenticate(authRequest);
	}

```

  - 로그인 성공시 처리 방법
    - defaultSuccessUrl : 
    - successHandler
  - 로그인 실패시 처리 방법
    - failureUrl
    - failureHandler

### DefaultLogoutPageGeneratingFilter
- GET /logout 을 처리
- POST /logout 을 요청할 수 있는 UI을 제공함.
- DefaultLoginPageGeneratingFilter을 사용하는 경우 같이 제공됨

### LogoutFilter
- POST /logout을 처리. precessionUrl을 변경하면 바꿀 수 있음
- 로그아웃을 처리
- session, SecurityContext, csrf, 쿠키, remember-me 쿠키등을 삭제처리
- 기본 로그인 페이지로 redirect함

```java
	private void doFilter(HttpServletRequest request, HttpServletResponse response, FilterChain chain)
			throws IOException, ServletException {
		if (requiresLogout(request, response)) {
			Authentication auth = this.securityContextHolderStrategy.getContext().getAuthentication();
			if (this.logger.isDebugEnabled()) {
				this.logger.debug(LogMessage.format("Logging out [%s]", auth));
			}
			this.handler.logout(request, response, auth);
			this.logoutSuccessHandler.onLogoutSuccess(request, response, auth);
			return;
		}
		chain.doFilter(request, response);
	}
```




